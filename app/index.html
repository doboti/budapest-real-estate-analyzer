{% extends "base.html" %}
{% block title %}Vez√©rl≈ëpult{% endblock %}
{% block content %}
<div class="bg-light p-5 rounded mt-3">
    <h1>üè† Budapest Ingatlan Elemz≈ë Platform</h1>
    <p class="lead">LLM-alap√∫ ingatlanhirdet√©s feldolgoz√°s √©s elemz√©s</p>
    
    <!-- Gyors √°ttekint√©s -->
    <div class="row mt-4">
        <div class="col-md-3">
            <div class="card bg-primary text-white">
                <div class="card-body text-center">
                    <h3>{{ stats.get('total_processed', 0) | int }}</h3>
                    <p class="mb-0">Feldolgozott</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card bg-success text-white">
                <div class="card-body text-center">
                    <h3>{{ stats.get('relevant', 0) | int }}</h3>
                    <p class="mb-0">Relev√°ns</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card bg-warning text-white">
                <div class="card-body text-center">
                    <h3>{{ stats.get('irrelevant', 0) | int }}</h3>
                    <p class="mb-0">Irrelev√°ns</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card bg-info text-white">
                <div class="card-body text-center">
                    <h3>{{ stats.get('cache_hit_rate', 0) | round(1) }}%</h3>
                    <p class="mb-0">Cache tal√°lat</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Gyors navig√°ci√≥ -->
    <div class="row mt-4">
        <div class="col-md-4 mb-3">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">üìä Adatok</h5>
                </div>
                <div class="card-body">
                    <p>B√∂ng√©szd √©s sz≈±rd az ingatlanhirdet√©seket</p>
                    <a href="{{ url_for('data_table') }}" class="btn btn-primary">Adatt√°bla</a>
                    <a href="{{ url_for('stats') }}" class="btn btn-outline-primary">Statisztik√°k</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 mb-3">
            <div class="card h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">üó∫Ô∏è T√©rk√©pek</h5>
                </div>
                <div class="card-body">
                    <p>Interakt√≠v t√©rk√©p √©s ter√ºleti elemz√©s</p>
                    <a href="{{ url_for('map_interactive') }}" class="btn btn-success">Interakt√≠v T√©rk√©p</a>
                    <a href="{{ url_for('price_trends_view') }}" class="btn btn-outline-success">√Årtrendek</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 mb-3">
            <div class="card h-100">
                <div class="card-header bg-warning text-white">
                    <h5 class="mb-0">üîÆ Predikci√≥</h5>
                </div>
                <div class="card-body">
                    <p>ML-alap√∫ √°rbecs√ºl√©s ingatlanjaidhoz</p>
                    <a href="{{ url_for('prediction') }}" class="btn btn-warning">√Årkalkul√°tor</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin funkci√≥k - CSAK BEJELENTKEZVE -->
    {% if session.get('logged_in') %}
    <div class="alert alert-info mt-4">
        <h5>üõ†Ô∏è Admin Vez√©rl√©s</h5>
        <p>Bejelentkezt√©l admin-k√©nt. Hozz√°f√©rsz az admin vez√©rl≈ëpulthoz.</p>
        <a href="{{ url_for('admin_dashboard') }}" class="btn btn-primary">
            <i class="fas fa-cog"></i> Admin Dashboard
        </a>
    </div>
    {% else %}
    <div class="alert alert-secondary mt-4">
        <h5>üîí Admin Funkci√≥k</h5>
        <p>Az adatfeldolgoz√°s √©s rendszerbe√°ll√≠t√°sok el√©r√©s√©hez jelentkezz be.</p>
        <a href="{{ url_for('login') }}" class="btn btn-secondary">Bejelentkez√©s</a>
    </div>
    {% endif %}
</div>
{% endblock %}
